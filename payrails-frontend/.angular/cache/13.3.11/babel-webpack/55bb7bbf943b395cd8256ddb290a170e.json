{"ast":null,"code":"\"use strict\";\n\nvar _asyncToGenerator = require(\"/Users/ahmedyehiakhater/payrails-product-assessment/payrails-frontend/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\n\nvar e = crypto;\n\nconst t = e => e instanceof CryptoKey,\n      r = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* (t, _r) {\n    const n = `SHA-${t.slice(-3)}`;\n    return new Uint8Array(yield e.subtle.digest(n, _r));\n  });\n\n  return function r(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}(),\n      n = new TextEncoder(),\n      i = new TextDecoder(),\n      a = 2 ** 32;\n\nfunction o(...e) {\n  const t = e.reduce((e, {\n    length: t\n  }) => e + t, 0),\n        r = new Uint8Array(t);\n  let n = 0;\n  return e.forEach(e => {\n    r.set(e, n), n += e.length;\n  }), r;\n}\n\nfunction s(e, t, r) {\n  if (t < 0 || t >= a) throw new RangeError(`value must be >= 0 and <= ${a - 1}. Received ${t}`);\n  e.set([t >>> 24, t >>> 16, t >>> 8, 255 & t], r);\n}\n\nfunction c(e) {\n  const t = new Uint8Array(4);\n  return s(t, e), t;\n}\n\nfunction h(e) {\n  return o(c(e.length), e);\n}\n\nconst p = e => (e => {\n  let t = e;\n  \"string\" == typeof t && (t = n.encode(t));\n  const r = [];\n\n  for (let e = 0; e < t.length; e += 32768) r.push(String.fromCharCode.apply(null, t.subarray(e, e + 32768)));\n\n  return btoa(r.join(\"\"));\n})(e).replace(/=/g, \"\").replace(/\\+/g, \"-\").replace(/\\//g, \"_\");\n\nclass d extends Error {\n  static get code() {\n    return \"ERR_JOSE_GENERIC\";\n  }\n\n  constructor(e) {\n    var t;\n    super(e), this.code = \"ERR_JOSE_GENERIC\", this.name = this.constructor.name, null === (t = Error.captureStackTrace) || void 0 === t || t.call(Error, this, this.constructor);\n  }\n\n}\n\nclass y extends d {\n  constructor() {\n    super(...arguments), this.code = \"ERR_JOSE_NOT_SUPPORTED\";\n  }\n\n  static get code() {\n    return \"ERR_JOSE_NOT_SUPPORTED\";\n  }\n\n}\n\nclass u extends d {\n  constructor() {\n    super(...arguments), this.code = \"ERR_JWE_INVALID\";\n  }\n\n  static get code() {\n    return \"ERR_JWE_INVALID\";\n  }\n\n}\n\nvar l = e.getRandomValues.bind(e);\n\nfunction w(e) {\n  switch (e) {\n    case \"A128GCM\":\n    case \"A128GCMKW\":\n    case \"A192GCM\":\n    case \"A192GCMKW\":\n    case \"A256GCM\":\n    case \"A256GCMKW\":\n      return 96;\n\n    case \"A128CBC-HS256\":\n    case \"A192CBC-HS384\":\n    case \"A256CBC-HS512\":\n      return 128;\n\n    default:\n      throw new y(`Unsupported JWE Algorithm: ${e}`);\n  }\n}\n\nvar f = e => l(new Uint8Array(w(e) >> 3));\n\nconst m = (e, t) => {\n  const r = e.byteLength << 3;\n  if (r !== t) throw new u(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`);\n};\n\nfunction g(e, t = \"algorithm.name\") {\n  return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`);\n}\n\nfunction A(e, t) {\n  return e.name === t;\n}\n\nfunction E(e, t, ...r) {\n  switch (t) {\n    case \"A128GCM\":\n    case \"A192GCM\":\n    case \"A256GCM\":\n      {\n        if (!A(e.algorithm, \"AES-GCM\")) throw g(\"AES-GCM\");\n        const r = parseInt(t.slice(1, 4), 10);\n        if (e.algorithm.length !== r) throw g(r, \"algorithm.length\");\n        break;\n      }\n\n    case \"A128KW\":\n    case \"A192KW\":\n    case \"A256KW\":\n      {\n        if (!A(e.algorithm, \"AES-KW\")) throw g(\"AES-KW\");\n        const r = parseInt(t.slice(1, 4), 10);\n        if (e.algorithm.length !== r) throw g(r, \"algorithm.length\");\n        break;\n      }\n\n    case \"ECDH\":\n      switch (e.algorithm.name) {\n        case \"ECDH\":\n        case \"X25519\":\n        case \"X448\":\n          break;\n\n        default:\n          throw g(\"ECDH, X25519, or X448\");\n      }\n\n      break;\n\n    case \"PBES2-HS256+A128KW\":\n    case \"PBES2-HS384+A192KW\":\n    case \"PBES2-HS512+A256KW\":\n      if (!A(e.algorithm, \"PBKDF2\")) throw g(\"PBKDF2\");\n      break;\n\n    case \"RSA-OAEP\":\n    case \"RSA-OAEP-256\":\n    case \"RSA-OAEP-384\":\n    case \"RSA-OAEP-512\":\n      {\n        if (!A(e.algorithm, \"RSA-OAEP\")) throw g(\"RSA-OAEP\");\n        const r = parseInt(t.slice(9), 10) || 1;\n        if ((n = e.algorithm.hash, parseInt(n.name.slice(4), 10)) !== r) throw g(`SHA-${r}`, \"algorithm.hash\");\n        break;\n      }\n\n    default:\n      throw new TypeError(\"CryptoKey does not support this operation\");\n  }\n\n  var n;\n  !function (e, t) {\n    if (t.length && !t.some(t => e.usages.includes(t))) {\n      let e = \"CryptoKey does not support this operation, its usages must include \";\n\n      if (t.length > 2) {\n        const r = t.pop();\n        e += `one of ${t.join(\", \")}, or ${r}.`;\n      } else 2 === t.length ? e += `one of ${t[0]} or ${t[1]}.` : e += `${t[0]}.`;\n\n      throw new TypeError(e);\n    }\n  }(e, r);\n}\n\nfunction C(e, t, ...r) {\n  if (r.length > 2) {\n    const t = r.pop();\n    e += `one of type ${r.join(\", \")}, or ${t}.`;\n  } else 2 === r.length ? e += `one of type ${r[0]} or ${r[1]}.` : e += `of type ${r[0]}.`;\n\n  return null == t ? e += ` Received ${t}` : \"function\" == typeof t && t.name ? e += ` Received function ${t.name}` : \"object\" == typeof t && null != t && t.constructor && t.constructor.name && (e += ` Received an instance of ${t.constructor.name}`), e;\n}\n\nvar S = (e, ...t) => C(\"Key must be \", e, ...t);\n\nfunction b(e, t, ...r) {\n  return C(`Key for the ${e} algorithm must be `, t, ...r);\n}\n\nvar H = e => t(e);\n\nconst K = [\"CryptoKey\"],\n      U = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator(function* () {\n    throw new y('JWE \"zip\" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.');\n  });\n\n  return function U() {\n    return _ref2.apply(this, arguments);\n  };\n}(),\n      v = [{\n  hash: \"SHA-256\",\n  name: \"HMAC\"\n}, !0, [\"sign\"]];\n\nconst _ = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator(function* (r, n, i) {\n    const a = yield function (r, n, i) {\n      if (t(r)) return E(r, n, i), r;\n      if (r instanceof Uint8Array) return e.subtle.importKey(\"raw\", r, \"AES-KW\", !0, [i]);\n      throw new TypeError(S(r, ...K, \"Uint8Array\"));\n    }(n, r, \"wrapKey\");\n    !function (e, t) {\n      if (e.algorithm.length !== parseInt(t.slice(1, 4), 10)) throw new TypeError(`Invalid key size for alg: ${t}`);\n    }(a, r);\n    const o = yield e.subtle.importKey(\"raw\", i, ...v);\n    return new Uint8Array(yield e.subtle.wrapKey(\"raw\", o, a, \"AES-KW\"));\n  });\n\n  return function _(_x3, _x4, _x5) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nfunction P(_x6, _x7, _x8, _x9) {\n  return _P.apply(this, arguments);\n}\n\nfunction _P() {\n  _P = _asyncToGenerator(function* (i, a, s, p, d = new Uint8Array(0), y = new Uint8Array(0)) {\n    if (!t(i)) throw new TypeError(S(i, ...K));\n    if (E(i, \"ECDH\"), !t(a)) throw new TypeError(S(a, ...K));\n    E(a, \"ECDH\", \"deriveBits\");\n    const u = o(h(n.encode(s)), h(d), h(y), c(p));\n    let l;\n    l = \"X25519\" === i.algorithm.name ? 256 : \"X448\" === i.algorithm.name ? 448 : Math.ceil(parseInt(i.algorithm.namedCurve.substr(-3), 10) / 8) << 3;\n    return function () {\n      var _ref8 = _asyncToGenerator(function* (e, t, n) {\n        const i = Math.ceil((t >> 3) / 32),\n              a = new Uint8Array(32 * i);\n\n        for (let t = 0; t < i; t++) {\n          const i = new Uint8Array(4 + e.length + n.length);\n          i.set(c(t + 1)), i.set(e, 4), i.set(n, 4 + e.length), a.set(yield r(\"sha256\", i), 32 * t);\n        }\n\n        return a.slice(0, t >> 3);\n      });\n\n      return function (_x37, _x38, _x39) {\n        return _ref8.apply(this, arguments);\n      };\n    }()(new Uint8Array(yield e.subtle.deriveBits({\n      name: i.algorithm.name,\n      public: i\n    }, a, l)), p, u);\n  });\n  return _P.apply(this, arguments);\n}\n\nfunction R(_x10, _x11, _x12, _x13) {\n  return _R.apply(this, arguments);\n}\n\nfunction _R() {\n  _R = _asyncToGenerator(function* (r, i, a, s) {\n    !function (e) {\n      if (!(e instanceof Uint8Array) || e.length < 8) throw new u(\"PBES2 Salt Input must be 8 or more octets\");\n    }(r);\n\n    const c = function (e, t) {\n      return o(n.encode(e), new Uint8Array([0]), t);\n    }(i, r),\n          h = parseInt(i.slice(13, 16), 10),\n          p = {\n      hash: `SHA-${i.slice(8, 11)}`,\n      iterations: a,\n      name: \"PBKDF2\",\n      salt: c\n    },\n          d = {\n      length: h,\n      name: \"AES-KW\"\n    },\n          y = yield function (r, n) {\n      if (r instanceof Uint8Array) return e.subtle.importKey(\"raw\", r, \"PBKDF2\", !1, [\"deriveBits\"]);\n      if (t(r)) return E(r, n, \"deriveBits\", \"deriveKey\"), r;\n      throw new TypeError(S(r, ...K, \"Uint8Array\"));\n    }(s, i);\n\n    if (y.usages.includes(\"deriveBits\")) return new Uint8Array(yield e.subtle.deriveBits(p, y, h));\n    if (y.usages.includes(\"deriveKey\")) return e.subtle.deriveKey(p, y, d, !1, [\"wrapKey\", \"unwrapKey\"]);\n    throw new TypeError('PBKDF2 key \"usages\" must include \"deriveBits\" or \"deriveKey\"');\n  });\n  return _R.apply(this, arguments);\n}\n\nfunction k(e) {\n  switch (e) {\n    case \"RSA-OAEP\":\n    case \"RSA-OAEP-256\":\n    case \"RSA-OAEP-384\":\n    case \"RSA-OAEP-512\":\n      return \"RSA-OAEP\";\n\n    default:\n      throw new y(`alg ${e} is not supported either by JOSE or your javascript runtime`);\n  }\n}\n\nconst T = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator(function* (r, n, i) {\n    if (!t(n)) throw new TypeError(S(n, ...K));\n    if (E(n, r, \"encrypt\", \"wrapKey\"), ((e, t) => {\n      if (e.startsWith(\"RS\") || e.startsWith(\"PS\")) {\n        const {\n          modulusLength: r\n        } = t.algorithm;\n        if (\"number\" != typeof r || r < 2048) throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`);\n      }\n    })(r, n), n.usages.includes(\"encrypt\")) return new Uint8Array(yield e.subtle.encrypt(k(r), n, i));\n\n    if (n.usages.includes(\"wrapKey\")) {\n      const t = yield e.subtle.importKey(\"raw\", i, ...v);\n      return new Uint8Array(yield e.subtle.wrapKey(\"raw\", t, n, k(r)));\n    }\n\n    throw new TypeError('RSA-OAEP key \"usages\" must include \"encrypt\" or \"wrapKey\" for this operation');\n  });\n\n  return function T(_x14, _x15, _x16) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nfunction W(e) {\n  switch (e) {\n    case \"A128GCM\":\n      return 128;\n\n    case \"A192GCM\":\n      return 192;\n\n    case \"A256GCM\":\n    case \"A128CBC-HS256\":\n      return 256;\n\n    case \"A192CBC-HS384\":\n      return 384;\n\n    case \"A256CBC-HS512\":\n      return 512;\n\n    default:\n      throw new y(`Unsupported JWE Algorithm: ${e}`);\n  }\n}\n\nvar M = e => l(new Uint8Array(W(e) >> 3));\n\nconst $ = (e, t, r) => {\n  e.startsWith(\"HS\") || \"dir\" === e || e.startsWith(\"PBES2\") || /^A\\d{3}(?:GCM)?KW$/.test(e) ? ((e, t) => {\n    if (!(t instanceof Uint8Array)) {\n      if (!H(t)) throw new TypeError(b(e, t, ...K, \"Uint8Array\"));\n      if (\"secret\" !== t.type) throw new TypeError(`${K.join(\" or \")} instances for symmetric algorithms must be of type \"secret\"`);\n    }\n  })(e, t) : ((e, t, r) => {\n    if (!H(t)) throw new TypeError(b(e, t, ...K));\n    if (\"secret\" === t.type) throw new TypeError(`${K.join(\" or \")} instances for asymmetric algorithms must not be of type \"secret\"`);\n    if (\"sign\" === r && \"public\" === t.type) throw new TypeError(`${K.join(\" or \")} instances for asymmetric algorithm signing must be of type \"private\"`);\n    if (\"decrypt\" === r && \"public\" === t.type) throw new TypeError(`${K.join(\" or \")} instances for asymmetric algorithm decryption must be of type \"private\"`);\n    if (t.algorithm && \"verify\" === r && \"private\" === t.type) throw new TypeError(`${K.join(\" or \")} instances for asymmetric algorithm verifying must be of type \"public\"`);\n    if (t.algorithm && \"encrypt\" === r && \"private\" === t.type) throw new TypeError(`${K.join(\" or \")} instances for asymmetric algorithm encryption must be of type \"public\"`);\n  })(e, t, r);\n};\n\nfunction B(_x17, _x18, _x19, _x20, _x21) {\n  return _B.apply(this, arguments);\n}\n\nfunction _B() {\n  _B = _asyncToGenerator(function* (t, r, n, i, c) {\n    if (!(n instanceof Uint8Array)) throw new TypeError(S(n, \"Uint8Array\"));\n    const h = parseInt(t.slice(1, 4), 10),\n          p = yield e.subtle.importKey(\"raw\", n.subarray(h >> 3), \"AES-CBC\", !1, [\"encrypt\"]),\n          d = yield e.subtle.importKey(\"raw\", n.subarray(0, h >> 3), {\n      hash: \"SHA-\" + (h << 1),\n      name: \"HMAC\"\n    }, !1, [\"sign\"]),\n          y = new Uint8Array(yield e.subtle.encrypt({\n      iv: i,\n      name: \"AES-CBC\"\n    }, p, r)),\n          u = o(c, i, y, function (e) {\n      const t = Math.floor(e / a),\n            r = e % a,\n            n = new Uint8Array(8);\n      return s(n, t, 0), s(n, r, 4), n;\n    }(c.length << 3));\n    return {\n      ciphertext: y,\n      tag: new Uint8Array((yield e.subtle.sign(\"HMAC\", d, u)).slice(0, h >> 3))\n    };\n  });\n  return _B.apply(this, arguments);\n}\n\nconst D = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator(function* (r, n, i, a, o) {\n    if (!(t(i) || i instanceof Uint8Array)) throw new TypeError(S(i, ...K, \"Uint8Array\"));\n\n    switch (((e, t) => {\n      if (t.length << 3 !== w(e)) throw new u(\"Invalid Initialization Vector length\");\n    })(r, a), r) {\n      case \"A128CBC-HS256\":\n      case \"A192CBC-HS384\":\n      case \"A256CBC-HS512\":\n        return i instanceof Uint8Array && m(i, parseInt(r.slice(-3), 10)), B(r, n, i, a, o);\n\n      case \"A128GCM\":\n      case \"A192GCM\":\n      case \"A256GCM\":\n        return i instanceof Uint8Array && m(i, parseInt(r.slice(1, 4), 10)), function () {\n          var _ref6 = _asyncToGenerator(function* (t, r, n, i, a) {\n            let o;\n            n instanceof Uint8Array ? o = yield e.subtle.importKey(\"raw\", n, \"AES-GCM\", !1, [\"encrypt\"]) : (E(n, t, \"encrypt\"), o = n);\n            const s = new Uint8Array(yield e.subtle.encrypt({\n              additionalData: a,\n              iv: i,\n              name: \"AES-GCM\",\n              tagLength: 128\n            }, o, r)),\n                  c = s.slice(-16);\n            return {\n              ciphertext: s.slice(0, -16),\n              tag: c\n            };\n          });\n\n          return function (_x27, _x28, _x29, _x30, _x31) {\n            return _ref6.apply(this, arguments);\n          };\n        }()(r, n, i, a, o);\n\n      default:\n        throw new y(\"Unsupported JWE Content Encryption Algorithm\");\n    }\n  });\n\n  return function D(_x22, _x23, _x24, _x25, _x26) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nconst I = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator(function* (r) {\n    if (r instanceof Uint8Array) return {\n      kty: \"oct\",\n      k: p(r)\n    };\n    if (!t(r)) throw new TypeError(S(r, ...K, \"Uint8Array\"));\n    if (!r.extractable) throw new TypeError(\"non-extractable CryptoKey cannot be exported as a JWK\");\n    const {\n      ext: n,\n      key_ops: i,\n      alg: a,\n      use: o,\n      ...s\n    } = yield e.subtle.exportKey(\"jwk\", r);\n    return s;\n  });\n\n  return function I(_x32) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nfunction O(_x33, _x34, _x35, _x36) {\n  return _O.apply(this, arguments);\n}\n\nfunction _O() {\n  _O = _asyncToGenerator(function* (r, n, i, a, o = {}) {\n    let s, c, h;\n\n    switch ($(r, i, \"encrypt\"), r) {\n      case \"dir\":\n        h = i;\n        break;\n\n      case \"ECDH-ES\":\n      case \"ECDH-ES+A128KW\":\n      case \"ECDH-ES+A192KW\":\n      case \"ECDH-ES+A256KW\":\n        {\n          if (!function (e) {\n            if (!t(e)) throw new TypeError(S(e, ...K));\n            return [\"P-256\", \"P-384\", \"P-521\"].includes(e.algorithm.namedCurve) || \"X25519\" === e.algorithm.name || \"X448\" === e.algorithm.name;\n          }(i)) throw new y(\"ECDH with the provided key is not allowed or not supported by your javascript runtime\");\n          const {\n            apu: d,\n            apv: u\n          } = o;\n          let {\n            epk: l\n          } = o;\n          l || (l = (yield function () {\n            var _ref9 = _asyncToGenerator(function* (r) {\n              if (!t(r)) throw new TypeError(S(r, ...K));\n              return e.subtle.generateKey(r.algorithm, !0, [\"deriveBits\"]);\n            });\n\n            return function (_x40) {\n              return _ref9.apply(this, arguments);\n            };\n          }()(i)).privateKey);\n          const {\n            x: w,\n            y: f,\n            crv: m,\n            kty: g\n          } = yield function () {\n            var _ref10 = _asyncToGenerator(function* (e) {\n              return I(e);\n            });\n\n            return function (_x41) {\n              return _ref10.apply(this, arguments);\n            };\n          }()(l),\n                A = yield P(i, l, \"ECDH-ES\" === r ? n : r, \"ECDH-ES\" === r ? W(n) : parseInt(r.slice(-5, -2), 10), d, u);\n\n          if (c = {\n            epk: {\n              x: w,\n              crv: m,\n              kty: g\n            }\n          }, \"EC\" === g && (c.epk.y = f), d && (c.apu = p(d)), u && (c.apv = p(u)), \"ECDH-ES\" === r) {\n            h = A;\n            break;\n          }\n\n          h = a || M(n);\n          const E = r.slice(-6);\n          s = yield _(E, A, h);\n          break;\n        }\n\n      case \"RSA1_5\":\n      case \"RSA-OAEP\":\n      case \"RSA-OAEP-256\":\n      case \"RSA-OAEP-384\":\n      case \"RSA-OAEP-512\":\n        h = a || M(n), s = yield T(r, i, h);\n        break;\n\n      case \"PBES2-HS256+A128KW\":\n      case \"PBES2-HS384+A192KW\":\n      case \"PBES2-HS512+A256KW\":\n        {\n          h = a || M(n);\n          const {\n            p2c: e,\n            p2s: t\n          } = o;\n          ({\n            encryptedKey: s,\n            ...c\n          } = yield function () {\n            var _ref11 = _asyncToGenerator(function* (e, t, r, n = 2048, i = l(new Uint8Array(16))) {\n              const a = yield R(i, e, n, t);\n              return {\n                encryptedKey: yield _(e.slice(-6), a, r),\n                p2c: n,\n                p2s: p(i)\n              };\n            });\n\n            return function (_x42, _x43, _x44) {\n              return _ref11.apply(this, arguments);\n            };\n          }()(r, i, h, e, t));\n          break;\n        }\n\n      case \"A128KW\":\n      case \"A192KW\":\n      case \"A256KW\":\n        h = a || M(n), s = yield _(r, i, h);\n        break;\n\n      case \"A128GCMKW\":\n      case \"A192GCMKW\":\n      case \"A256GCMKW\":\n        {\n          h = a || M(n);\n          const {\n            iv: e\n          } = o;\n          ({\n            encryptedKey: s,\n            ...c\n          } = yield function () {\n            var _ref12 = _asyncToGenerator(function* (e, t, r, n) {\n              const i = e.slice(0, 7);\n              n || (n = f(i));\n              const {\n                ciphertext: a,\n                tag: o\n              } = yield D(i, r, t, n, new Uint8Array(0));\n              return {\n                encryptedKey: a,\n                iv: p(n),\n                tag: p(o)\n              };\n            });\n\n            return function (_x45, _x46, _x47, _x48) {\n              return _ref12.apply(this, arguments);\n            };\n          }()(r, i, h, e));\n          break;\n        }\n\n      default:\n        throw new y('Invalid or unsupported \"alg\" (JWE Algorithm) header value');\n    }\n\n    return {\n      cek: h,\n      encryptedKey: s,\n      parameters: c\n    };\n  });\n  return _O.apply(this, arguments);\n}\n\nconst x = Symbol();\n\nclass G {\n  constructor(e) {\n    if (!(e instanceof Uint8Array)) throw new TypeError(\"plaintext must be an instance of Uint8Array\");\n    this._plaintext = e;\n  }\n\n  setKeyManagementParameters(e) {\n    if (this._keyManagementParameters) throw new TypeError(\"setKeyManagementParameters can only be called once\");\n    return this._keyManagementParameters = e, this;\n  }\n\n  setProtectedHeader(e) {\n    if (this._protectedHeader) throw new TypeError(\"setProtectedHeader can only be called once\");\n    return this._protectedHeader = e, this;\n  }\n\n  setSharedUnprotectedHeader(e) {\n    if (this._sharedUnprotectedHeader) throw new TypeError(\"setSharedUnprotectedHeader can only be called once\");\n    return this._sharedUnprotectedHeader = e, this;\n  }\n\n  setUnprotectedHeader(e) {\n    if (this._unprotectedHeader) throw new TypeError(\"setUnprotectedHeader can only be called once\");\n    return this._unprotectedHeader = e, this;\n  }\n\n  setAdditionalAuthenticatedData(e) {\n    return this._aad = e, this;\n  }\n\n  setContentEncryptionKey(e) {\n    if (this._cek) throw new TypeError(\"setContentEncryptionKey can only be called once\");\n    return this._cek = e, this;\n  }\n\n  setInitializationVector(e) {\n    if (this._iv) throw new TypeError(\"setInitializationVector can only be called once\");\n    return this._iv = e, this;\n  }\n\n  encrypt(e, t) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this._protectedHeader && !_this._unprotectedHeader && !_this._sharedUnprotectedHeader) throw new u(\"either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()\");\n      if (!((...e) => {\n        const t = e.filter(Boolean);\n        if (0 === t.length || 1 === t.length) return !0;\n        let r;\n\n        for (const e of t) {\n          const t = Object.keys(e);\n          if (r && 0 !== r.size) for (const e of t) {\n            if (r.has(e)) return !1;\n            r.add(e);\n          } else r = new Set(t);\n        }\n\n        return !0;\n      })(_this._protectedHeader, _this._unprotectedHeader, _this._sharedUnprotectedHeader)) throw new u(\"JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint\");\n      const r = { ..._this._protectedHeader,\n        ..._this._unprotectedHeader,\n        ..._this._sharedUnprotectedHeader\n      };\n\n      if (function (e, t, r, n, i) {\n        if (void 0 !== i.crit && void 0 === n.crit) throw new e('\"crit\" (Critical) Header Parameter MUST be integrity protected');\n        if (!n || void 0 === n.crit) return new Set();\n        if (!Array.isArray(n.crit) || 0 === n.crit.length || n.crit.some(e => \"string\" != typeof e || 0 === e.length)) throw new e('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');\n        let a;\n        a = void 0 !== r ? new Map([...Object.entries(r), ...t.entries()]) : t;\n\n        for (const t of n.crit) {\n          if (!a.has(t)) throw new y(`Extension Header Parameter \"${t}\" is not recognized`);\n          if (void 0 === i[t]) throw new e(`Extension Header Parameter \"${t}\" is missing`);\n          if (a.get(t) && void 0 === n[t]) throw new e(`Extension Header Parameter \"${t}\" MUST be integrity protected`);\n        }\n\n        new Set(n.crit);\n      }(u, new Map(), null == t ? void 0 : t.crit, _this._protectedHeader, r), void 0 !== r.zip) {\n        if (!_this._protectedHeader || !_this._protectedHeader.zip) throw new u('JWE \"zip\" (Compression Algorithm) Header MUST be integrity protected');\n        if (\"DEF\" !== r.zip) throw new y('Unsupported JWE \"zip\" (Compression Algorithm) Header Parameter value');\n      }\n\n      const {\n        alg: a,\n        enc: s\n      } = r;\n      if (\"string\" != typeof a || !a) throw new u('JWE \"alg\" (Algorithm) Header Parameter missing or invalid');\n      if (\"string\" != typeof s || !s) throw new u('JWE \"enc\" (Encryption Algorithm) Header Parameter missing or invalid');\n      let c, h, d, l, w, m, g;\n\n      if (\"dir\" === a) {\n        if (_this._cek) throw new TypeError(\"setContentEncryptionKey cannot be called when using Direct Encryption\");\n      } else if (\"ECDH-ES\" === a && _this._cek) throw new TypeError(\"setContentEncryptionKey cannot be called when using Direct Key Agreement\");\n\n      {\n        let r;\n        ({\n          cek: h,\n          encryptedKey: c,\n          parameters: r\n        } = yield O(a, s, e, _this._cek, _this._keyManagementParameters)), r && (t && x in t ? _this._unprotectedHeader ? _this._unprotectedHeader = { ..._this._unprotectedHeader,\n          ...r\n        } : _this.setUnprotectedHeader(r) : _this._protectedHeader ? _this._protectedHeader = { ..._this._protectedHeader,\n          ...r\n        } : _this.setProtectedHeader(r));\n      }\n\n      if (_this._iv || (_this._iv = f(s)), l = _this._protectedHeader ? n.encode(p(JSON.stringify(_this._protectedHeader))) : n.encode(\"\"), _this._aad ? (w = p(_this._aad), d = o(l, n.encode(\".\"), n.encode(w))) : d = l, \"DEF\" === r.zip) {\n        const e = yield ((null == t ? void 0 : t.deflateRaw) || U)(_this._plaintext);\n        ({\n          ciphertext: m,\n          tag: g\n        } = yield D(s, e, h, _this._iv, d));\n      } else ({\n        ciphertext: m,\n        tag: g\n      } = yield D(s, _this._plaintext, h, _this._iv, d));\n\n      const A = {\n        ciphertext: p(m),\n        iv: p(_this._iv),\n        tag: p(g)\n      };\n      return c && (A.encrypted_key = p(c)), w && (A.aad = w), _this._protectedHeader && (A.protected = i.decode(l)), _this._sharedUnprotectedHeader && (A.unprotected = _this._sharedUnprotectedHeader), _this._unprotectedHeader && (A.header = _this._unprotectedHeader), A;\n    })();\n  }\n\n}\n\nclass J {\n  constructor(e) {\n    this._flattened = new G(e);\n  }\n\n  setContentEncryptionKey(e) {\n    return this._flattened.setContentEncryptionKey(e), this;\n  }\n\n  setInitializationVector(e) {\n    return this._flattened.setInitializationVector(e), this;\n  }\n\n  setProtectedHeader(e) {\n    return this._flattened.setProtectedHeader(e), this;\n  }\n\n  setKeyManagementParameters(e) {\n    return this._flattened.setKeyManagementParameters(e), this;\n  }\n\n  encrypt(e, t) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      const r = yield _this2._flattened.encrypt(e, t);\n      return [r.protected, r.encrypted_key, r.iv, r.ciphertext, r.tag].join(\".\");\n    })();\n  }\n\n}\n\nlet z;\nconst j = new Uint8Array(16);\n\nfunction V() {\n  if (!z && (z = \"undefined\" != typeof crypto && crypto.getRandomValues && crypto.getRandomValues.bind(crypto), !z)) throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");\n  return z(j);\n}\n\nconst N = [];\n\nfor (let e = 0; e < 256; ++e) N.push((e + 256).toString(16).slice(1));\n\nvar X = {\n  randomUUID: \"undefined\" != typeof crypto && crypto.randomUUID && crypto.randomUUID.bind(crypto)\n};\n\nfunction F(e, t, r) {\n  if (X.randomUUID && !t && !e) return X.randomUUID();\n  const n = (e = e || {}).random || (e.rng || V)();\n\n  if (n[6] = 15 & n[6] | 64, n[8] = 63 & n[8] | 128, t) {\n    r = r || 0;\n\n    for (let e = 0; e < 16; ++e) t[r + e] = n[e];\n\n    return t;\n  }\n\n  return function (e, t = 0) {\n    return (N[e[t + 0]] + N[e[t + 1]] + N[e[t + 2]] + N[e[t + 3]] + \"-\" + N[e[t + 4]] + N[e[t + 5]] + \"-\" + N[e[t + 6]] + N[e[t + 7]] + \"-\" + N[e[t + 8]] + N[e[t + 9]] + \"-\" + N[e[t + 10]] + N[e[t + 11]] + N[e[t + 12]] + N[e[t + 13]] + N[e[t + 14]] + N[e[t + 15]]).toLowerCase();\n  }(n);\n}\n\nclass L {\n  static init(e) {\n    return new L(e);\n  }\n\n  constructor(e) {\n    this.initResponse = e, this.cseConfig = JSON.parse(atob(e.data));\n  }\n\n  tokenize(e, t) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      const r = yield _this3.importKey(),\n            n = {\n        encryptedInstrumentDetails: yield new J(new TextEncoder().encode(JSON.stringify(Object.assign(Object.assign({}, e), {\n          holderReference: _this3.cseConfig.holderReference\n        })))).setProtectedHeader({\n          alg: \"RSA-OAEP-256\",\n          enc: \"A256CBC-HS512\"\n        }).encrypt(r),\n        id: _this3.cseConfig.tokenization.id,\n        holderReference: _this3.cseConfig.holderReference,\n        storeInstrument: (null == t ? void 0 : t.storeInstrument) || !1\n      };\n      return (null == t ? void 0 : t.futureUsage) && (n.futureUsage = t.futureUsage), fetch(_this3.cseConfig.tokenization.links.tokenize.href, {\n        method: _this3.cseConfig.tokenization.links.tokenize.method,\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${_this3.cseConfig.token}`,\n          \"x-idempotency-key\": F()\n        },\n        body: JSON.stringify(n)\n      });\n    })();\n  }\n\n  importKey() {\n    const e = this.cseConfig.tokenization.publicKey,\n          t = this.base64StringToArrayBuffer(e);\n    return global.crypto.subtle.importKey(\"spki\", t, {\n      name: \"RSA-OAEP\",\n      hash: \"SHA-256\"\n    }, !0, [\"encrypt\"]);\n  }\n\n  base64StringToArrayBuffer(e) {\n    const t = atob(e),\n          r = new Uint8Array(t.length);\n\n    for (let e = 0; e < t.length; e++) r[e] = t.charCodeAt(e);\n\n    return r.buffer;\n  }\n\n}\n\nexports.PayrailsCSE = L;","map":{"version":3,"sources":["/Users/ahmedyehiakhater/payrails-product-assessment/payrails-frontend/node_modules/@payrails/web-cse/index.js"],"names":["e","crypto","t","CryptoKey","r","n","slice","Uint8Array","subtle","digest","TextEncoder","i","TextDecoder","a","o","reduce","length","forEach","set","s","RangeError","c","h","p","encode","push","String","fromCharCode","apply","subarray","btoa","join","replace","d","Error","code","constructor","name","captureStackTrace","call","y","arguments","u","l","getRandomValues","bind","w","f","m","byteLength","g","TypeError","A","E","algorithm","parseInt","hash","some","usages","includes","pop","C","S","b","H","K","U","v","_","importKey","wrapKey","P","Math","ceil","namedCurve","substr","deriveBits","public","R","iterations","salt","deriveKey","k","T","startsWith","modulusLength","encrypt","W","M","$","test","type","B","iv","floor","ciphertext","tag","sign","D","additionalData","tagLength","I","kty","extractable","ext","key_ops","alg","use","exportKey","O","apu","apv","epk","generateKey","privateKey","x","crv","p2c","p2s","encryptedKey","cek","parameters","Symbol","G","_plaintext","setKeyManagementParameters","_keyManagementParameters","setProtectedHeader","_protectedHeader","setSharedUnprotectedHeader","_sharedUnprotectedHeader","setUnprotectedHeader","_unprotectedHeader","setAdditionalAuthenticatedData","_aad","setContentEncryptionKey","_cek","setInitializationVector","_iv","filter","Boolean","Object","keys","size","has","add","Set","crit","Array","isArray","Map","entries","get","zip","enc","JSON","stringify","deflateRaw","encrypted_key","aad","protected","decode","unprotected","header","J","_flattened","z","j","V","N","toString","X","randomUUID","F","random","rng","toLowerCase","L","init","initResponse","cseConfig","parse","atob","data","tokenize","encryptedInstrumentDetails","assign","holderReference","id","tokenization","storeInstrument","futureUsage","fetch","links","href","method","headers","Authorization","token","body","publicKey","base64StringToArrayBuffer","global","charCodeAt","buffer","exports","PayrailsCSE"],"mappings":"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","sourcesContent":["\"use strict\";var e=crypto;const t=e=>e instanceof CryptoKey,r=async(t,r)=>{const n=`SHA-${t.slice(-3)}`;return new Uint8Array(await e.subtle.digest(n,r))},n=new TextEncoder,i=new TextDecoder,a=2**32;function o(...e){const t=e.reduce(((e,{length:t})=>e+t),0),r=new Uint8Array(t);let n=0;return e.forEach((e=>{r.set(e,n),n+=e.length})),r}function s(e,t,r){if(t<0||t>=a)throw new RangeError(`value must be >= 0 and <= ${a-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function c(e){const t=new Uint8Array(4);return s(t,e),t}function h(e){return o(c(e.length),e)}const p=e=>(e=>{let t=e;\"string\"==typeof t&&(t=n.encode(t));const r=[];for(let e=0;e<t.length;e+=32768)r.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return btoa(r.join(\"\"))})(e).replace(/=/g,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\");class d extends Error{static get code(){return\"ERR_JOSE_GENERIC\"}constructor(e){var t;super(e),this.code=\"ERR_JOSE_GENERIC\",this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}}class y extends d{constructor(){super(...arguments),this.code=\"ERR_JOSE_NOT_SUPPORTED\"}static get code(){return\"ERR_JOSE_NOT_SUPPORTED\"}}class u extends d{constructor(){super(...arguments),this.code=\"ERR_JWE_INVALID\"}static get code(){return\"ERR_JWE_INVALID\"}}var l=e.getRandomValues.bind(e);function w(e){switch(e){case\"A128GCM\":case\"A128GCMKW\":case\"A192GCM\":case\"A192GCMKW\":case\"A256GCM\":case\"A256GCMKW\":return 96;case\"A128CBC-HS256\":case\"A192CBC-HS384\":case\"A256CBC-HS512\":return 128;default:throw new y(`Unsupported JWE Algorithm: ${e}`)}}var f=e=>l(new Uint8Array(w(e)>>3));const m=(e,t)=>{const r=e.byteLength<<3;if(r!==t)throw new u(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`)};function g(e,t=\"algorithm.name\"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function A(e,t){return e.name===t}function E(e,t,...r){switch(t){case\"A128GCM\":case\"A192GCM\":case\"A256GCM\":{if(!A(e.algorithm,\"AES-GCM\"))throw g(\"AES-GCM\");const r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw g(r,\"algorithm.length\");break}case\"A128KW\":case\"A192KW\":case\"A256KW\":{if(!A(e.algorithm,\"AES-KW\"))throw g(\"AES-KW\");const r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw g(r,\"algorithm.length\");break}case\"ECDH\":switch(e.algorithm.name){case\"ECDH\":case\"X25519\":case\"X448\":break;default:throw g(\"ECDH, X25519, or X448\")}break;case\"PBES2-HS256+A128KW\":case\"PBES2-HS384+A192KW\":case\"PBES2-HS512+A256KW\":if(!A(e.algorithm,\"PBKDF2\"))throw g(\"PBKDF2\");break;case\"RSA-OAEP\":case\"RSA-OAEP-256\":case\"RSA-OAEP-384\":case\"RSA-OAEP-512\":{if(!A(e.algorithm,\"RSA-OAEP\"))throw g(\"RSA-OAEP\");const r=parseInt(t.slice(9),10)||1;if((n=e.algorithm.hash,parseInt(n.name.slice(4),10))!==r)throw g(`SHA-${r}`,\"algorithm.hash\");break}default:throw new TypeError(\"CryptoKey does not support this operation\")}var n;!function(e,t){if(t.length&&!t.some((t=>e.usages.includes(t)))){let e=\"CryptoKey does not support this operation, its usages must include \";if(t.length>2){const r=t.pop();e+=`one of ${t.join(\", \")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw new TypeError(e)}}(e,r)}function C(e,t,...r){if(r.length>2){const t=r.pop();e+=`one of type ${r.join(\", \")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:\"function\"==typeof t&&t.name?e+=` Received function ${t.name}`:\"object\"==typeof t&&null!=t&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}var S=(e,...t)=>C(\"Key must be \",e,...t);function b(e,t,...r){return C(`Key for the ${e} algorithm must be `,t,...r)}var H=e=>t(e);const K=[\"CryptoKey\"],U=async()=>{throw new y('JWE \"zip\" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.')},v=[{hash:\"SHA-256\",name:\"HMAC\"},!0,[\"sign\"]];const _=async(r,n,i)=>{const a=await function(r,n,i){if(t(r))return E(r,n,i),r;if(r instanceof Uint8Array)return e.subtle.importKey(\"raw\",r,\"AES-KW\",!0,[i]);throw new TypeError(S(r,...K,\"Uint8Array\"))}(n,r,\"wrapKey\");!function(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${t}`)}(a,r);const o=await e.subtle.importKey(\"raw\",i,...v);return new Uint8Array(await e.subtle.wrapKey(\"raw\",o,a,\"AES-KW\"))};async function P(i,a,s,p,d=new Uint8Array(0),y=new Uint8Array(0)){if(!t(i))throw new TypeError(S(i,...K));if(E(i,\"ECDH\"),!t(a))throw new TypeError(S(a,...K));E(a,\"ECDH\",\"deriveBits\");const u=o(h(n.encode(s)),h(d),h(y),c(p));let l;l=\"X25519\"===i.algorithm.name?256:\"X448\"===i.algorithm.name?448:Math.ceil(parseInt(i.algorithm.namedCurve.substr(-3),10)/8)<<3;return async function(e,t,n){const i=Math.ceil((t>>3)/32),a=new Uint8Array(32*i);for(let t=0;t<i;t++){const i=new Uint8Array(4+e.length+n.length);i.set(c(t+1)),i.set(e,4),i.set(n,4+e.length),a.set(await r(\"sha256\",i),32*t)}return a.slice(0,t>>3)}(new Uint8Array(await e.subtle.deriveBits({name:i.algorithm.name,public:i},a,l)),p,u)}async function R(r,i,a,s){!function(e){if(!(e instanceof Uint8Array)||e.length<8)throw new u(\"PBES2 Salt Input must be 8 or more octets\")}(r);const c=function(e,t){return o(n.encode(e),new Uint8Array([0]),t)}(i,r),h=parseInt(i.slice(13,16),10),p={hash:`SHA-${i.slice(8,11)}`,iterations:a,name:\"PBKDF2\",salt:c},d={length:h,name:\"AES-KW\"},y=await function(r,n){if(r instanceof Uint8Array)return e.subtle.importKey(\"raw\",r,\"PBKDF2\",!1,[\"deriveBits\"]);if(t(r))return E(r,n,\"deriveBits\",\"deriveKey\"),r;throw new TypeError(S(r,...K,\"Uint8Array\"))}(s,i);if(y.usages.includes(\"deriveBits\"))return new Uint8Array(await e.subtle.deriveBits(p,y,h));if(y.usages.includes(\"deriveKey\"))return e.subtle.deriveKey(p,y,d,!1,[\"wrapKey\",\"unwrapKey\"]);throw new TypeError('PBKDF2 key \"usages\" must include \"deriveBits\" or \"deriveKey\"')}function k(e){switch(e){case\"RSA-OAEP\":case\"RSA-OAEP-256\":case\"RSA-OAEP-384\":case\"RSA-OAEP-512\":return\"RSA-OAEP\";default:throw new y(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}const T=async(r,n,i)=>{if(!t(n))throw new TypeError(S(n,...K));if(E(n,r,\"encrypt\",\"wrapKey\"),((e,t)=>{if(e.startsWith(\"RS\")||e.startsWith(\"PS\")){const{modulusLength:r}=t.algorithm;if(\"number\"!=typeof r||r<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}})(r,n),n.usages.includes(\"encrypt\"))return new Uint8Array(await e.subtle.encrypt(k(r),n,i));if(n.usages.includes(\"wrapKey\")){const t=await e.subtle.importKey(\"raw\",i,...v);return new Uint8Array(await e.subtle.wrapKey(\"raw\",t,n,k(r)))}throw new TypeError('RSA-OAEP key \"usages\" must include \"encrypt\" or \"wrapKey\" for this operation')};function W(e){switch(e){case\"A128GCM\":return 128;case\"A192GCM\":return 192;case\"A256GCM\":case\"A128CBC-HS256\":return 256;case\"A192CBC-HS384\":return 384;case\"A256CBC-HS512\":return 512;default:throw new y(`Unsupported JWE Algorithm: ${e}`)}}var M=e=>l(new Uint8Array(W(e)>>3));const $=(e,t,r)=>{e.startsWith(\"HS\")||\"dir\"===e||e.startsWith(\"PBES2\")||/^A\\d{3}(?:GCM)?KW$/.test(e)?((e,t)=>{if(!(t instanceof Uint8Array)){if(!H(t))throw new TypeError(b(e,t,...K,\"Uint8Array\"));if(\"secret\"!==t.type)throw new TypeError(`${K.join(\" or \")} instances for symmetric algorithms must be of type \"secret\"`)}})(e,t):((e,t,r)=>{if(!H(t))throw new TypeError(b(e,t,...K));if(\"secret\"===t.type)throw new TypeError(`${K.join(\" or \")} instances for asymmetric algorithms must not be of type \"secret\"`);if(\"sign\"===r&&\"public\"===t.type)throw new TypeError(`${K.join(\" or \")} instances for asymmetric algorithm signing must be of type \"private\"`);if(\"decrypt\"===r&&\"public\"===t.type)throw new TypeError(`${K.join(\" or \")} instances for asymmetric algorithm decryption must be of type \"private\"`);if(t.algorithm&&\"verify\"===r&&\"private\"===t.type)throw new TypeError(`${K.join(\" or \")} instances for asymmetric algorithm verifying must be of type \"public\"`);if(t.algorithm&&\"encrypt\"===r&&\"private\"===t.type)throw new TypeError(`${K.join(\" or \")} instances for asymmetric algorithm encryption must be of type \"public\"`)})(e,t,r)};async function B(t,r,n,i,c){if(!(n instanceof Uint8Array))throw new TypeError(S(n,\"Uint8Array\"));const h=parseInt(t.slice(1,4),10),p=await e.subtle.importKey(\"raw\",n.subarray(h>>3),\"AES-CBC\",!1,[\"encrypt\"]),d=await e.subtle.importKey(\"raw\",n.subarray(0,h>>3),{hash:\"SHA-\"+(h<<1),name:\"HMAC\"},!1,[\"sign\"]),y=new Uint8Array(await e.subtle.encrypt({iv:i,name:\"AES-CBC\"},p,r)),u=o(c,i,y,function(e){const t=Math.floor(e/a),r=e%a,n=new Uint8Array(8);return s(n,t,0),s(n,r,4),n}(c.length<<3));return{ciphertext:y,tag:new Uint8Array((await e.subtle.sign(\"HMAC\",d,u)).slice(0,h>>3))}}const D=async(r,n,i,a,o)=>{if(!(t(i)||i instanceof Uint8Array))throw new TypeError(S(i,...K,\"Uint8Array\"));switch(((e,t)=>{if(t.length<<3!==w(e))throw new u(\"Invalid Initialization Vector length\")})(r,a),r){case\"A128CBC-HS256\":case\"A192CBC-HS384\":case\"A256CBC-HS512\":return i instanceof Uint8Array&&m(i,parseInt(r.slice(-3),10)),B(r,n,i,a,o);case\"A128GCM\":case\"A192GCM\":case\"A256GCM\":return i instanceof Uint8Array&&m(i,parseInt(r.slice(1,4),10)),async function(t,r,n,i,a){let o;n instanceof Uint8Array?o=await e.subtle.importKey(\"raw\",n,\"AES-GCM\",!1,[\"encrypt\"]):(E(n,t,\"encrypt\"),o=n);const s=new Uint8Array(await e.subtle.encrypt({additionalData:a,iv:i,name:\"AES-GCM\",tagLength:128},o,r)),c=s.slice(-16);return{ciphertext:s.slice(0,-16),tag:c}}(r,n,i,a,o);default:throw new y(\"Unsupported JWE Content Encryption Algorithm\")}};const I=async r=>{if(r instanceof Uint8Array)return{kty:\"oct\",k:p(r)};if(!t(r))throw new TypeError(S(r,...K,\"Uint8Array\"));if(!r.extractable)throw new TypeError(\"non-extractable CryptoKey cannot be exported as a JWK\");const{ext:n,key_ops:i,alg:a,use:o,...s}=await e.subtle.exportKey(\"jwk\",r);return s};async function O(r,n,i,a,o={}){let s,c,h;switch($(r,i,\"encrypt\"),r){case\"dir\":h=i;break;case\"ECDH-ES\":case\"ECDH-ES+A128KW\":case\"ECDH-ES+A192KW\":case\"ECDH-ES+A256KW\":{if(!function(e){if(!t(e))throw new TypeError(S(e,...K));return[\"P-256\",\"P-384\",\"P-521\"].includes(e.algorithm.namedCurve)||\"X25519\"===e.algorithm.name||\"X448\"===e.algorithm.name}(i))throw new y(\"ECDH with the provided key is not allowed or not supported by your javascript runtime\");const{apu:d,apv:u}=o;let{epk:l}=o;l||(l=(await async function(r){if(!t(r))throw new TypeError(S(r,...K));return e.subtle.generateKey(r.algorithm,!0,[\"deriveBits\"])}(i)).privateKey);const{x:w,y:f,crv:m,kty:g}=await async function(e){return I(e)}(l),A=await P(i,l,\"ECDH-ES\"===r?n:r,\"ECDH-ES\"===r?W(n):parseInt(r.slice(-5,-2),10),d,u);if(c={epk:{x:w,crv:m,kty:g}},\"EC\"===g&&(c.epk.y=f),d&&(c.apu=p(d)),u&&(c.apv=p(u)),\"ECDH-ES\"===r){h=A;break}h=a||M(n);const E=r.slice(-6);s=await _(E,A,h);break}case\"RSA1_5\":case\"RSA-OAEP\":case\"RSA-OAEP-256\":case\"RSA-OAEP-384\":case\"RSA-OAEP-512\":h=a||M(n),s=await T(r,i,h);break;case\"PBES2-HS256+A128KW\":case\"PBES2-HS384+A192KW\":case\"PBES2-HS512+A256KW\":{h=a||M(n);const{p2c:e,p2s:t}=o;({encryptedKey:s,...c}=await(async(e,t,r,n=2048,i=l(new Uint8Array(16)))=>{const a=await R(i,e,n,t);return{encryptedKey:await _(e.slice(-6),a,r),p2c:n,p2s:p(i)}})(r,i,h,e,t));break}case\"A128KW\":case\"A192KW\":case\"A256KW\":h=a||M(n),s=await _(r,i,h);break;case\"A128GCMKW\":case\"A192GCMKW\":case\"A256GCMKW\":{h=a||M(n);const{iv:e}=o;({encryptedKey:s,...c}=await async function(e,t,r,n){const i=e.slice(0,7);n||(n=f(i));const{ciphertext:a,tag:o}=await D(i,r,t,n,new Uint8Array(0));return{encryptedKey:a,iv:p(n),tag:p(o)}}(r,i,h,e));break}default:throw new y('Invalid or unsupported \"alg\" (JWE Algorithm) header value')}return{cek:h,encryptedKey:s,parameters:c}}const x=Symbol();class G{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError(\"plaintext must be an instance of Uint8Array\");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError(\"setKeyManagementParameters can only be called once\");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError(\"setProtectedHeader can only be called once\");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw new TypeError(\"setSharedUnprotectedHeader can only be called once\");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError(\"setUnprotectedHeader can only be called once\");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError(\"setContentEncryptionKey can only be called once\");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError(\"setInitializationVector can only be called once\");return this._iv=e,this}async encrypt(e,t){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new u(\"either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()\");if(!((...e)=>{const t=e.filter(Boolean);if(0===t.length||1===t.length)return!0;let r;for(const e of t){const t=Object.keys(e);if(r&&0!==r.size)for(const e of t){if(r.has(e))return!1;r.add(e)}else r=new Set(t)}return!0})(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new u(\"JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint\");const r={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(function(e,t,r,n,i){if(void 0!==i.crit&&void 0===n.crit)throw new e('\"crit\" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some((e=>\"string\"!=typeof e||0===e.length)))throw new e('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t;for(const t of n.crit){if(!a.has(t))throw new y(`Extension Header Parameter \"${t}\" is not recognized`);if(void 0===i[t])throw new e(`Extension Header Parameter \"${t}\" is missing`);if(a.get(t)&&void 0===n[t])throw new e(`Extension Header Parameter \"${t}\" MUST be integrity protected`)}new Set(n.crit)}(u,new Map,null==t?void 0:t.crit,this._protectedHeader,r),void 0!==r.zip){if(!this._protectedHeader||!this._protectedHeader.zip)throw new u('JWE \"zip\" (Compression Algorithm) Header MUST be integrity protected');if(\"DEF\"!==r.zip)throw new y('Unsupported JWE \"zip\" (Compression Algorithm) Header Parameter value')}const{alg:a,enc:s}=r;if(\"string\"!=typeof a||!a)throw new u('JWE \"alg\" (Algorithm) Header Parameter missing or invalid');if(\"string\"!=typeof s||!s)throw new u('JWE \"enc\" (Encryption Algorithm) Header Parameter missing or invalid');let c,h,d,l,w,m,g;if(\"dir\"===a){if(this._cek)throw new TypeError(\"setContentEncryptionKey cannot be called when using Direct Encryption\")}else if(\"ECDH-ES\"===a&&this._cek)throw new TypeError(\"setContentEncryptionKey cannot be called when using Direct Key Agreement\");{let r;({cek:h,encryptedKey:c,parameters:r}=await O(a,s,e,this._cek,this._keyManagementParameters)),r&&(t&&x in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...r}:this.setUnprotectedHeader(r):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...r}:this.setProtectedHeader(r))}if(this._iv||(this._iv=f(s)),l=this._protectedHeader?n.encode(p(JSON.stringify(this._protectedHeader))):n.encode(\"\"),this._aad?(w=p(this._aad),d=o(l,n.encode(\".\"),n.encode(w))):d=l,\"DEF\"===r.zip){const e=await((null==t?void 0:t.deflateRaw)||U)(this._plaintext);({ciphertext:m,tag:g}=await D(s,e,h,this._iv,d))}else({ciphertext:m,tag:g}=await D(s,this._plaintext,h,this._iv,d));const A={ciphertext:p(m),iv:p(this._iv),tag:p(g)};return c&&(A.encrypted_key=p(c)),w&&(A.aad=w),this._protectedHeader&&(A.protected=i.decode(l)),this._sharedUnprotectedHeader&&(A.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(A.header=this._unprotectedHeader),A}}class J{constructor(e){this._flattened=new G(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){const r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(\".\")}}let z;const j=new Uint8Array(16);function V(){if(!z&&(z=\"undefined\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!z))throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");return z(j)}const N=[];for(let e=0;e<256;++e)N.push((e+256).toString(16).slice(1));var X={randomUUID:\"undefined\"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function F(e,t,r){if(X.randomUUID&&!t&&!e)return X.randomUUID();const n=(e=e||{}).random||(e.rng||V)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return function(e,t=0){return(N[e[t+0]]+N[e[t+1]]+N[e[t+2]]+N[e[t+3]]+\"-\"+N[e[t+4]]+N[e[t+5]]+\"-\"+N[e[t+6]]+N[e[t+7]]+\"-\"+N[e[t+8]]+N[e[t+9]]+\"-\"+N[e[t+10]]+N[e[t+11]]+N[e[t+12]]+N[e[t+13]]+N[e[t+14]]+N[e[t+15]]).toLowerCase()}(n)}class L{static init(e){return new L(e)}constructor(e){this.initResponse=e,this.cseConfig=JSON.parse(atob(e.data))}async tokenize(e,t){const r=await this.importKey(),n={encryptedInstrumentDetails:await new J((new TextEncoder).encode(JSON.stringify(Object.assign(Object.assign({},e),{holderReference:this.cseConfig.holderReference})))).setProtectedHeader({alg:\"RSA-OAEP-256\",enc:\"A256CBC-HS512\"}).encrypt(r),id:this.cseConfig.tokenization.id,holderReference:this.cseConfig.holderReference,storeInstrument:(null==t?void 0:t.storeInstrument)||!1};return(null==t?void 0:t.futureUsage)&&(n.futureUsage=t.futureUsage),fetch(this.cseConfig.tokenization.links.tokenize.href,{method:this.cseConfig.tokenization.links.tokenize.method,headers:{\"Content-Type\":\"application/json\",Authorization:`Bearer ${this.cseConfig.token}`,\"x-idempotency-key\":F()},body:JSON.stringify(n)})}importKey(){const e=this.cseConfig.tokenization.publicKey,t=this.base64StringToArrayBuffer(e);return global.crypto.subtle.importKey(\"spki\",t,{name:\"RSA-OAEP\",hash:\"SHA-256\"},!0,[\"encrypt\"])}base64StringToArrayBuffer(e){const t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r.buffer}}exports.PayrailsCSE=L;"]},"metadata":{},"sourceType":"script"}